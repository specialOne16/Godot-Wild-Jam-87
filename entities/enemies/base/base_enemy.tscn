[gd_scene load_steps=14 format=3 uid="uid://devxha63j6w0k"]

[ext_resource type="Script" uid="uid://pfa3i7hrkhc" path="res://entities/enemies/base/base_enemy.gd" id="1_8xa7x"]
[ext_resource type="Script" uid="uid://bwxyngoubhotg" path="res://state_machine/state_machine.gd" id="2_6pcee"]
[ext_resource type="Resource" uid="uid://cea7fjn1hn54h" path="res://entities/enemies/types/NormalRangeZombieData.tres" id="2_b8buh"]
[ext_resource type="Script" uid="uid://dup4k7lgho64i" path="res://entities/enemies/state/zombie_idle_state.gd" id="3_stjds"]
[ext_resource type="Script" uid="uid://brta4mjxw0jgu" path="res://entities/enemies/state/zombie_move_to_player_state.gd" id="4_4pxks"]
[ext_resource type="Script" uid="uid://d2p1c7q65a17q" path="res://entities/enemies/state/zombie_melee_attacking_state.gd" id="5_4pxks"]
[ext_resource type="Script" uid="uid://c2071exun15cm" path="res://entities/enemies/state/zombie_ranged_attacking_state.gd" id="7_b8buh"]

[sub_resource type="CircleShape2D" id="CircleShape2D_8xa7x"]
radius = 18.110771

[sub_resource type="CircleShape2D" id="CircleShape2D_b8buh"]
radius = 42.0

[sub_resource type="CircleShape2D" id="CircleShape2D_6pcee"]
radius = 150.0

[sub_resource type="CircleShape2D" id="CircleShape2D_ccd4k"]
radius = 26.0

[sub_resource type="Gradient" id="Gradient_6pcee"]
offsets = PackedFloat32Array(0.007142857)
colors = PackedColorArray(1, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_stjds"]
gradient = SubResource("Gradient_6pcee")
height = 5

[node name="BaseEnemy" type="RigidBody2D" groups=["enemies"]]
collision_layer = 2
collision_mask = 222
gravity_scale = 0.0
lock_rotation = true
contact_monitor = true
script = ExtResource("1_8xa7x")
data = ExtResource("2_b8buh")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
scale = Vector2(0.5, 0.5)
shape = SubResource("CircleShape2D_8xa7x")

[node name="ZombieMeleeAttackRange" type="Area2D" parent="."]
unique_name_in_owner = true
collision_layer = 0
collision_mask = 73

[node name="CollisionShape2D" type="CollisionShape2D" parent="ZombieMeleeAttackRange"]
unique_name_in_owner = true
shape = SubResource("CircleShape2D_b8buh")

[node name="ZombieRangedAttackRange" type="Area2D" parent="."]
unique_name_in_owner = true
collision_layer = 0
collision_mask = 73

[node name="CollisionShape2D" type="CollisionShape2D" parent="ZombieRangedAttackRange"]
shape = SubResource("CircleShape2D_6pcee")

[node name="ZombieStartMeleeAttackRange" type="Area2D" parent="."]
unique_name_in_owner = true
collision_layer = 0
collision_mask = 73

[node name="CollisionShape2D" type="CollisionShape2D" parent="ZombieStartMeleeAttackRange"]
shape = SubResource("CircleShape2D_ccd4k")

[node name="Nozzle" type="Node2D" parent="."]
position = Vector2(0, -10)

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = -32.0
offset_top = -40.0
offset_right = 32.0
offset_bottom = -35.0

[node name="enemyHpBar" type="TextureProgressBar" parent="Control"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture_progress = SubResource("GradientTexture2D_stjds")

[node name="ZombieDamageTimer" type="Timer" parent="."]
unique_name_in_owner = true

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_6pcee")
initial_state = NodePath("ZombieIdleState")
metadata/_custom_type_script = "uid://bwxyngoubhotg"

[node name="ZombieIdleState" type="Node" parent="StateMachine"]
script = ExtResource("3_stjds")
metadata/_custom_type_script = "uid://dup4k7lgho64i"

[node name="ZombieMoveToPlayerState" type="Node" parent="StateMachine"]
script = ExtResource("4_4pxks")
metadata/_custom_type_script = "uid://brta4mjxw0jgu"

[node name="ZombieMeleeAttackingState" type="Node" parent="StateMachine"]
script = ExtResource("5_4pxks")
metadata/_custom_type_script = "uid://d2p1c7q65a17q"

[node name="ZombieRangedAttackingState" type="Node" parent="StateMachine"]
script = ExtResource("7_b8buh")
metadata/_custom_type_script = "uid://c2071exun15cm"
